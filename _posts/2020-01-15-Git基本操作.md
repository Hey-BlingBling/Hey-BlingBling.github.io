---
layout:     post
title:      "Git 入门安装及简单操作"
subtitle:   "Git 基础"
date:       2020-01-15
author:     Hey-BlingBling
header-img: img/post-web.jpg
catalog: true
tags:
    - Blog
    - Git
---
**这里先给出Git的下载地址：**

> Windows：https://git-scm.com/download/win
> Mac:https://git-scm.com/download/mac
> Linux: https://git-scm.com/download/linux

[**大家可以通过这个在线实验环境进行git的基本操作练习**](https://www.shiyanlou.com/courses/4)

[**这是我认为较好的git学习手册（中文版）**](https://git-scm.com/book/zh/v2)

**以下首先是关于Git的简单介绍，若已经了解可以跳过。**

## 什么是Git?

Git是目前世界上最先进的**分布式版本控制系统**。所以与之对应的，还有以SVN为代表的**集中式版本控制系统**。
集中式版本控制系统，即指版本库存放在中央服务器中，在程序猿进行工作的时候，需要首先从中央服务器得到当下最新的版本，然后在自己的电脑上工作，完成之后再推送到中央服务器。当然，在局域网下、宽带够大、速度较快、工程规模不太大的情况下，这种集中式的管理倒也是一个不错的选择，但在当前的互联网环境下，不会始终保持这种条件，此时分布式的管理就体现出了它更高层次的价值，在分布式管理下，每个人的电脑都相当于一个完整的版本库，我们所有关于当前版本文件的操作，都会保存在本地的仓库中，在本地的仓库中完成修改、添加和提交，至于上传到网络的事情，我们可以挑选一个适当的时间进行上传，这保证我们不需要过分关注网络条件的问题。

## Git仓库中文件的三种状态

在使用Git之前，我们首先要对其中的文件状态有一定的了解：
![Git仓库中文件的 三种状态](https://img-blog.csdnimg.cn/20200315202338846.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0hleV9CbGluZ0JsaW5n,size_16,color_FFFFFF,t_70)
**工作区**（**Working Directory**）是程序猿在当前电脑上进行工作的区域，我们可以在这里进行代码的编辑修改。
**暂存区**（**Staging Area**）是一个文件，保存了下次将要提交的文件列表信息，一般在 Git 仓库目录中。 在每次编辑完一个较为完整的版本后，可以将其暂时提交到暂存区进行保存。
**Git 仓库目录**（**.git directory**（**Repository**））是 Git 用来保存项目的元数据和对象数据库的地方。 这是 Git 中最重要的部分，从其它计算机克隆仓库时，复制的就是这里的数据。


基本的 Git 工作流程如下：

**1. 在工作区中修改文件。将你想要下次提交的更改选择性地暂存，这样只会将更改的部分添加到暂存区。
2. 提交更新，找到暂存区的文件，将快照永久性存储到 Git 目录。**

对应的，Git仓库中的文件就有了三种状态：
**1. 已修改状态：作了修改但还没有放到暂存区域；
2. 已暂存状态：文件已修改并放入暂存区；
3. 已提交状态：Git 目录中保存着特定版本的文件；**

## 建立第一个Git仓库并进行提交

现在我们已经下载好了 Git 并且了解到了 Git 仓库中文件的各个状态，现在我们可以点击 **Git Bash**，打开 Git 命令行。在第一次运行之前，我们需要输入自己的信息，个人信息会在最终提交信息到 Github 时显示。我们的**用户名（user name）**和**邮箱（email）**，以便于之后我们上传文件到**GitHub**时进行记录，具体命令如下：

> git config --global user.name "YOUR_NAME"
>
> git config --global user.email "YOUR_EMAIL"

其中“**global**”参数是非必选项，当你使用该参数时，你在你的电脑上的所有提交都会使用你此次输入的用户名以及邮箱。当然你如果想在特定的时候使用其他的用户名和邮箱，可以在特定目录下重新输入命令设定。

设置好以后，你可以使用以下命令查看设置的状态：

> git config --list

其中还有许多选项可以设置，都可以通过 **git config** 命令进行设置，由于其他设置非必须，所以在此不加赘述，大家可以自己查阅资料设置。

在输入基本设置后，我们就可以建立自己的 **Git仓库** 了。
建立仓库的方式一般有两种：

1. 克隆他人的仓库（**clone**），命令如下：

> git clone URL LOCAL_NAME

其中 URL 为克隆的仓库的网址，LOCAL_NAME 为你将仓库克隆到本地后的新名字，该参数可以省略，默认的名称会是被克隆仓库的原名称。

2. 在当前目录建立自己的git仓库，命令如下：

> git init

此时会在当前目录建立一个 .git 文件夹（隐藏文件夹），即 Git 仓库。

建立好 Git 仓库后，我们便可以将文件添加到 Git 仓库了。之前我们提到过 **Git 仓库中文件的三种状态**，这类文件被统称为**已跟踪**（**tracked**）文件。除此之外均为**未跟踪**（**untracked**）文件。
**跟踪文件指的是在被纳入了版本控制的文件，简而言之，就是指在 Git 管理下的文件。**
我们可以使用 **add** 命令将文件设置为已跟踪状态：

> git add FILE_NAME

这个命令就可以将当前目录下名为 **file_name** 的文件设置为已跟踪状态，或者说加入了**暂存区**。我们可以使用"."代替"file_name"，此时将会把当前目录下的所有文件设置为已跟踪状态。

我们可以使用以下命令查看Git仓库中所有文件的状态：

> git status (-s/--short)

该命令会查看当前Git仓库下所有文件的状态，在命令后加上“-s”或“--short”参数，会更加简洁的方式输出。

当你完成所有工作后，你可以使用以下命令提交（**commit**）你完成的项目：

> git commit -m "COMMIT INFORMATION"

这样会将暂存区所有更改后的文件提交到 Git 仓库，你可以使用“-m”选项为本次提交添加提示信息，这将为每一个版本提供一定的说明，并且在上传到 GitHub 时显示。

在有些情况下，我们可以选择跳过暂存区域直接将跟踪的文件提交到Git仓库，即可以省略 **git add** 命令，直接进行提交，只需要在 **git commit** 选项后加上“-**a**”参数，如下：

> git commit -a

若想清楚地观察现在的版本与上次提交的版本的差异，可以使用以下命令进行查看：

> git diff

当你想从Git仓库删除文件并从本地删除时，可以使用以下命令：

> git rm FILE_NAME

该命令会将Git仓库中名为“FILE_NAME”的文件移出Git仓库，下一次提交时该文件将不被纳入版本管理。需要注意的是，若要删除之前修改过或者已放到暂存区的文件，则必须添加强制删除选项“-**f**，即：

> git rm -f FILE_NAME

如果你只是想从Git仓库删除而本地还需要继续使用，则需要加上“--**cached**”选项，即：

> git rm --cached FILE_NAME

如果我们进行了多次提交，可以通过以下命令查阅我们的提交历史：

> git log

这会显示我们之前的提交历史。**git log** 命令有许多可用的参数，针对不同的信息进行查询，在此不一一列举。

# 远端仓库的使用

在之前我们已经大概介绍了 Git 在本地的工作方式，当我们在团队中进行项目开发时，往往会把整个项目托管在互联网上，GitHub 就是与 Git 关注最密切的网站。

为了将本地 Git 仓库与远端仓库联系起来，我们首先要在Git上**添加远端仓库**，实际上，如果你之前使用了 **git clone** 命令克隆过仓库，那么那个仓库将会被自动添加到 Git 仓库，我们也可以手动添加仓库，命令如下：

> git remote add LOCAL_NAME URL

这条命令会将 **URL** 标识的仓库添加到我们的Git仓库并命名为**short_name**（**因为我们在每次推送到远端仓库时都需要仓库地址，所以我们需要一个简称来代替每次输入冗长的网址**）。

我们可以使用以下命令查看Git仓库中添加的远端仓库以及其简称（short_name）：

> git remote -v

我们可以**从远端仓库中抓取**（**fetch**）**与拉取**（**pull**）文件，命令如下：

> git fetch LOCAL_NAME BRANCH

这个命令会从远端仓库中抓取你还没有的数据并下载到本地仓库。
**git fetch** 并不会自动合并和修改你当前的工作，可以使用 **git pull** 命令抓取后合并远程分支到当前分支，命令如下：

> git pull LOCAL_NAME BRANCH

在本地完成工作后，我们可以使用以下命令将工程 **推送**（**push**）到远端仓库：

> git push LOCAL_NAME BRANCH

这条命令会将当前Git仓库中的文件推送到 **LOCAL_NAME** **对应仓库中的 BRACH** 分支。

对于**远端仓库的重命名**（**rename**）**以及移除**（**remove**）可以输入以下命令：

**远端仓库的重命名**：

> git remote rename OLD_NAME NEW_NAME

**远端仓库的移除**：

> git remote move LOCAL_NAME

最后，我们可以通过 Git **查看远端仓库的信息**：

> $ git remote show LOCAL_NAME

以上就是一些基本的git操作。
